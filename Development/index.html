
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the AIPerf project">
      
      
        <meta name="author" content="NVIDIA CORPORATION & AFFILIATES">
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../api/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Development - AIPerf Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#aiperf-developers-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="AIPerf Documentation" class="md-header__button md-logo" aria-label="AIPerf Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AIPerf Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Development
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="AIPerf Documentation" class="md-nav__button md-logo" aria-label="AIPerf Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    AIPerf Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#quick-start" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Start
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Quick Start">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#development-environment-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Development Environment Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Development Environment Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-a-devcontainer-preferred" class="md-nav__link">
    <span class="md-ellipsis">
      Option A: Devcontainer (Preferred)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-b-using-make-native-alternative" class="md-nav__link">
    <span class="md-ellipsis">
      Option B: Using Make (Native Alternative)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-c-manual-native-alternative" class="md-nav__link">
    <span class="md-ellipsis">
      Option C: Manual (Native Alternative)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-aiperf" class="md-nav__link">
    <span class="md-ellipsis">
      Running AIPerf
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Development Commands
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Project Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Project Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#directory-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Directory Structure
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      System Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-services" class="md-nav__link">
    <span class="md-ellipsis">
      Core Services
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-bootstrapping-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Service Bootstrapping Flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#communication-system" class="md-nav__link">
    <span class="md-ellipsis">
      Communication System
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-framework" class="md-nav__link">
    <span class="md-ellipsis">
      Service Framework
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Service Framework">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automatic-features" class="md-nav__link">
    <span class="md-ellipsis">
      Automatic Features
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation Requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#implement-base-service-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Implement base service requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-factory-registration" class="md-nav__link">
    <span class="md-ellipsis">
      Service Factory Registration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-lifecycle-hooks" class="md-nav__link">
    <span class="md-ellipsis">
      Service Lifecycle Hooks
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-services" class="md-nav__link">
    <span class="md-ellipsis">
      Running Services
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running Services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bootstrapping" class="md-nav__link">
    <span class="md-ellipsis">
      Bootstrapping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-management" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration Management
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing" class="md-nav__link">
    <span class="md-ellipsis">
      Testing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Running Tests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Test Structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-utilities" class="md-nav__link">
    <span class="md-ellipsis">
      Test Utilities
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-quality" class="md-nav__link">
    <span class="md-ellipsis">
      Code Quality
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Code Quality">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linting-and-formatting" class="md-nav__link">
    <span class="md-ellipsis">
      Linting and Formatting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-commit-hooks" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-commit Hooks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Development Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Development Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#code-style" class="md-nav__link">
    <span class="md-ellipsis">
      Code Style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing_1" class="md-nav__link">
    <span class="md-ellipsis">
      Testing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-development" class="md-nav__link">
    <span class="md-ellipsis">
      Service Development
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration_1" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Common Issues
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debugging" class="md-nav__link">
    <span class="md-ellipsis">
      Debugging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance" class="md-nav__link">
    <span class="md-ellipsis">
      Performance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributing" class="md-nav__link">
    <span class="md-ellipsis">
      Contributing
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#quick-start" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Start
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Quick Start">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#development-environment-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Development Environment Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Development Environment Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-a-devcontainer-preferred" class="md-nav__link">
    <span class="md-ellipsis">
      Option A: Devcontainer (Preferred)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-b-using-make-native-alternative" class="md-nav__link">
    <span class="md-ellipsis">
      Option B: Using Make (Native Alternative)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-c-manual-native-alternative" class="md-nav__link">
    <span class="md-ellipsis">
      Option C: Manual (Native Alternative)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-aiperf" class="md-nav__link">
    <span class="md-ellipsis">
      Running AIPerf
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Development Commands
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Project Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Project Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#directory-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Directory Structure
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      System Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-services" class="md-nav__link">
    <span class="md-ellipsis">
      Core Services
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-bootstrapping-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Service Bootstrapping Flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#communication-system" class="md-nav__link">
    <span class="md-ellipsis">
      Communication System
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-framework" class="md-nav__link">
    <span class="md-ellipsis">
      Service Framework
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Service Framework">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automatic-features" class="md-nav__link">
    <span class="md-ellipsis">
      Automatic Features
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation Requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#implement-base-service-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Implement base service requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-factory-registration" class="md-nav__link">
    <span class="md-ellipsis">
      Service Factory Registration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-lifecycle-hooks" class="md-nav__link">
    <span class="md-ellipsis">
      Service Lifecycle Hooks
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-services" class="md-nav__link">
    <span class="md-ellipsis">
      Running Services
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running Services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bootstrapping" class="md-nav__link">
    <span class="md-ellipsis">
      Bootstrapping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-management" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration Management
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing" class="md-nav__link">
    <span class="md-ellipsis">
      Testing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Running Tests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Test Structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-utilities" class="md-nav__link">
    <span class="md-ellipsis">
      Test Utilities
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-quality" class="md-nav__link">
    <span class="md-ellipsis">
      Code Quality
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Code Quality">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linting-and-formatting" class="md-nav__link">
    <span class="md-ellipsis">
      Linting and Formatting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pre-commit-hooks" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-commit Hooks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Development Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Development Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#code-style" class="md-nav__link">
    <span class="md-ellipsis">
      Code Style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing_1" class="md-nav__link">
    <span class="md-ellipsis">
      Testing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-development" class="md-nav__link">
    <span class="md-ellipsis">
      Service Development
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration_1" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Common Issues
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debugging" class="md-nav__link">
    <span class="md-ellipsis">
      Debugging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance" class="md-nav__link">
    <span class="md-ellipsis">
      Performance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributing" class="md-nav__link">
    <span class="md-ellipsis">
      Contributing
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<!--
# SPDX-FileCopyrightText: Copyright (c) 2025 NVIDIA CORPORATION & AFFILIATES. All rights reserved.
# SPDX-License-Identifier: Apache-2.0
-->
<h1 id="aiperf-developers-guide">AIPerf Developers Guide<a class="headerlink" href="#aiperf-developers-guide" title="Permanent link">&para;</a></h1>
<p>This guide will help you set up your development environment and understand the AIPerf system architecture.</p>
<h2 id="quick-start">Quick Start<a class="headerlink" href="#quick-start" title="Permanent link">&para;</a></h2>
<h3 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h3>
<ul>
<li>Python 3.10 or higher</li>
<li>Linux environment (preferred)</li>
</ul>
<h3 id="development-environment-setup">Development Environment Setup<a class="headerlink" href="#development-environment-setup" title="Permanent link">&para;</a></h3>
<p><strong>Choose ONE option below!</strong></p>
<h4 id="option-a-devcontainer-preferred">Option A: Devcontainer (Preferred)<a class="headerlink" href="#option-a-devcontainer-preferred" title="Permanent link">&para;</a></h4>
<p>Supported by:
- VS Code
- Cursor
- Pycharm</p>
<p>Use your IDE to re-open the project folder inside the devcontainer. Usually available as a popup when you first load the project.
This will automatically build and install all required dependencies</p>
<h4 id="option-b-using-make-native-alternative">Option B: Using Make (Native Alternative)<a class="headerlink" href="#option-b-using-make-native-alternative" title="Permanent link">&para;</a></h4>
<details>


<div class="codehilite"><pre><span></span><code>make<span class="w"> </span>first-time-setup
</code></pre></div>


This command will:
- Install uv if not present
- Create a virtual environment
- Install dependencies
- Install pre-commit hooks

</details>

<h4 id="option-c-manual-native-alternative">Option C: Manual (Native Alternative)<a class="headerlink" href="#option-c-manual-native-alternative" title="Permanent link">&para;</a></h4>
<details>


<div class="codehilite"><pre><span></span><code><span class="c1"># Install uv package manager</span>
curl<span class="w"> </span>-LsSf<span class="w"> </span>https://astral.sh/uv/install.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span>sh

<span class="c1"># Create virtual environment</span>
uv<span class="w"> </span>venv<span class="w"> </span>--python<span class="w"> </span><span class="m">3</span>.12

<span class="c1"># Activate virtual environment</span>
<span class="nb">source</span><span class="w"> </span>.venv/bin/activate

<span class="c1"># Install package in editable development mode</span>
uv<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;.[dev]&quot;</span>

<span class="c1"># Install pre-commit hooks</span>
pre-commit<span class="w"> </span>install<span class="w"> </span>--install-hooks
</code></pre></div>


</details>

<h3 id="running-aiperf">Running AIPerf<a class="headerlink" href="#running-aiperf" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Default mode</strong>:
  ```bash
  aiperf</li>
</ul>
<p># also same as running
  aiperf --run-type process
  ```</p>
<ul>
<li>
<p><strong>Kubernetes mode (not yet supported)</strong>:
  <code>bash
  aiperf --run-type k8s</code></p>
</li>
<li>
<p><strong>With debug logging</strong>:
  <code>bash
  aiperf --log-level DEBUG</code></p>
</li>
<li>
<p><strong>View all options</strong>:
  <code>bash
  aiperf --help</code></p>
</li>
</ul>
<p>Press <code>Ctrl-C</code> to stop the process normally.</p>
<blockquote>
<p>Note: Press <code>Ctrl-Z</code> followed by <code>disown</code>, then <code>pkill -9 aiperf</code> if the process gets "stuck".</p>
</blockquote>
<p>Each process is named after the service_id. To see the running processes, run:</p>
<div class="codehilite"><pre><span></span><code>pgrep<span class="w"> </span>-a<span class="w"> </span><span class="s2">&quot;aiperf</span>

<span class="s2">2879138 aiperf system_controller_e3291509</span>
<span class="s2">2879170 aiperf dataset_manager_d821a161</span>
<span class="s2">2879173 aiperf timing_manager_5e8caf4b</span>
<span class="s2">2879175 aiperf worker_manager_77393965</span>
<span class="s2">2879177 aiperf records_manager_c16acdb0</span>
<span class="s2">2879179 aiperf post_processor_manager_d595537b</span>
</code></pre></div>

<h2 id="development-commands">Development Commands<a class="headerlink" href="#development-commands" title="Permanent link">&para;</a></h2>
<p>The project includes an optional Makefile for common development tasks:</p>
<div class="codehilite"><pre><span></span><code>make<span class="w"> </span><span class="nb">help</span><span class="w">              </span><span class="c1"># Show all available commands</span>
make<span class="w"> </span><span class="nb">test</span><span class="w">              </span><span class="c1"># Run tests</span>
make<span class="w"> </span>test-verbose<span class="w">      </span><span class="c1"># Run tests with debug logging</span>
make<span class="w"> </span>coverage<span class="w">          </span><span class="c1"># Run tests with coverage report</span>
make<span class="w"> </span>lint<span class="w">              </span><span class="c1"># Run linting with ruff</span>
make<span class="w"> </span>lint-fix<span class="w">          </span><span class="c1"># Auto-fix linting issues</span>
make<span class="w"> </span>format<span class="w">            </span><span class="c1"># Format code with ruff</span>
make<span class="w"> </span>check-format<span class="w">      </span><span class="c1"># Check code formatting</span>
make<span class="w"> </span>clean<span class="w">             </span><span class="c1"># Clean up cache files</span>
make<span class="w"> </span>docker<span class="w">            </span><span class="c1"># Build docker image</span>
make<span class="w"> </span>install<span class="w">           </span><span class="c1"># Install in editable mode</span>
</code></pre></div>

<p>You can also look inside at the commands it runs if you prefer to run things manually.</p>
<h2 id="project-architecture">Project Architecture<a class="headerlink" href="#project-architecture" title="Permanent link">&para;</a></h2>
<h3 id="directory-structure">Directory Structure<a class="headerlink" href="#directory-structure" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="n">aiperf</span><span class="o">/</span>
<span class="err">├──</span><span class="w"> </span><span class="n">aiperf</span><span class="o">/</span><span class="w">                      </span><span class="c1"># Main Python package</span>
<span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">cli</span><span class="o">.</span><span class="n">py</span><span class="w">                   </span><span class="c1"># Command line interface</span>
<span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">common</span><span class="o">/</span><span class="w">                  </span><span class="c1"># Shared utilities and components</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">bootstrap</span><span class="o">.</span><span class="n">py</span><span class="w">         </span><span class="c1"># Service bootstrapping</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">comms</span><span class="o">/</span><span class="w">               </span><span class="c1"># Communication system</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">base</span><span class="o">.</span><span class="n">py</span><span class="w">          </span><span class="c1"># Base communication classes</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">client_enums</span><span class="o">.</span><span class="n">py</span><span class="w">  </span><span class="c1"># Client type definitions</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="n">zmq</span><span class="o">/</span><span class="w">             </span><span class="c1"># ZeroMQ implementation</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">config</span><span class="o">/</span><span class="w">              </span><span class="c1"># Configuration management</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">service_config</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="c1"># Service configuration models</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="n">loader</span><span class="o">.</span><span class="n">py</span><span class="w">        </span><span class="c1"># Configuration loading utilities</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">service</span><span class="o">/</span><span class="w">             </span><span class="c1"># Base service framework</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">base_service</span><span class="o">.</span><span class="n">py</span><span class="w">              </span><span class="c1"># Core service implementation</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">base_service_interface</span><span class="o">.</span><span class="n">py</span><span class="w">    </span><span class="c1"># Service interface definition</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">base_component_service</span><span class="o">.</span><span class="n">py</span><span class="w">    </span><span class="c1"># Component service base</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="n">base_controller_service</span><span class="o">.</span><span class="n">py</span><span class="w">   </span><span class="c1"># Controller service base</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">enums</span><span class="o">.</span><span class="n">py</span><span class="w">             </span><span class="c1"># System-wide enumerations</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">models</span><span class="o">.</span><span class="n">py</span><span class="w">            </span><span class="c1"># Pydantic data models</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">exceptions</span><span class="o">.</span><span class="n">py</span><span class="w">        </span><span class="c1"># Custom exception classes</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">factories</span><span class="o">.</span><span class="n">py</span><span class="w">         </span><span class="c1"># Service factory patterns</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">hooks</span><span class="o">.</span><span class="n">py</span><span class="w">             </span><span class="c1"># Service lifecycle hooks</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">tokenizer</span><span class="o">.</span><span class="n">py</span><span class="w">         </span><span class="c1"># Text tokenization utilities</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="n">utils</span><span class="o">.</span><span class="n">py</span><span class="w">             </span><span class="c1"># General utilities</span>
<span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">services</span><span class="o">/</span><span class="w">                </span><span class="c1"># Microservices implementation</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">system_controller</span><span class="o">/</span><span class="w">   </span><span class="c1"># System orchestration service</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">dataset</span><span class="o">/</span><span class="w">             </span><span class="c1"># Dataset management service</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">timing_manager</span><span class="o">/</span><span class="w">      </span><span class="c1"># Request timing and credit management</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">worker_manager</span><span class="o">/</span><span class="w">      </span><span class="c1"># Worker process management</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">worker</span><span class="o">/</span><span class="w">              </span><span class="c1"># Request execution workers</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">records_manager</span><span class="o">/</span><span class="w">     </span><span class="c1"># Result storage and management</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="n">post_processor_manager</span><span class="o">/</span><span class="w"> </span><span class="c1"># Result processing and metrics</span>
<span class="err">│</span><span class="w">   </span><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="n">service_manager</span><span class="o">/</span><span class="w">     </span><span class="c1"># Service lifecycle management</span>
<span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="n">tests</span><span class="o">/</span><span class="w">                   </span><span class="c1"># Test suite</span>
<span class="err">│</span><span class="w">       </span><span class="err">├──</span><span class="w"> </span><span class="n">conftest</span><span class="o">.</span><span class="n">py</span><span class="w">          </span><span class="c1"># Pytest configuration</span>
<span class="err">│</span><span class="w">       </span><span class="err">├──</span><span class="w"> </span><span class="n">services</span><span class="o">/</span><span class="w">            </span><span class="c1"># Service-specific tests</span>
<span class="err">│</span><span class="w">       </span><span class="err">├──</span><span class="w"> </span><span class="n">comms</span><span class="o">/</span><span class="w">               </span><span class="c1"># Communication tests</span>
<span class="err">│</span><span class="w">       </span><span class="err">└──</span><span class="w"> </span><span class="n">utils</span><span class="o">/</span><span class="w">               </span><span class="c1"># Utility tests</span>
<span class="err">├──</span><span class="w"> </span><span class="n">docs</span><span class="o">/</span><span class="w">                        </span><span class="c1"># Documentation</span>
<span class="err">├──</span><span class="w"> </span><span class="n">tools</span><span class="o">/</span><span class="w">                       </span><span class="c1"># Development tools</span>
<span class="err">├──</span><span class="w"> </span><span class="o">.</span><span class="n">devcontainer</span><span class="o">/</span><span class="w">               </span><span class="c1"># VS Code dev container config</span>
<span class="err">├──</span><span class="w"> </span><span class="o">.</span><span class="n">github</span><span class="o">/</span><span class="w">                     </span><span class="c1"># GitHub workflows</span>
<span class="err">├──</span><span class="w"> </span><span class="n">pyproject</span><span class="o">.</span><span class="n">toml</span><span class="w">               </span><span class="c1"># Project configuration</span>
<span class="err">├──</span><span class="w"> </span><span class="n">Makefile</span><span class="w">                     </span><span class="c1"># Development automation</span>
<span class="err">├──</span><span class="w"> </span><span class="n">Dockerfile</span><span class="w">                   </span><span class="c1"># Container configuration</span>
<span class="err">└──</span><span class="w"> </span><span class="n">README</span><span class="o">.</span><span class="n">md</span><span class="w">                    </span><span class="c1"># Project overview</span>
</code></pre></div>

<h2 id="system-architecture">System Architecture<a class="headerlink" href="#system-architecture" title="Permanent link">&para;</a></h2>
<p>AIPerf implements a distributed microservices architecture built around a message-passing system using ZeroMQ.</p>
<h3 id="core-services">Core Services<a class="headerlink" href="#core-services" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>System Controller</strong> (<code>system_controller</code>)</li>
<li>Is bootstrapped by the CLI</li>
<li>Orchestrates the entire system</li>
<li>Manages service lifecycle and health monitoring</li>
<li>
<p>Handles service registration and coordination</p>
</li>
<li>
<p><strong>Dataset Manager</strong> (<code>dataset</code>)</p>
</li>
<li>Manages data generation and acquisition</li>
<li>Provides synthetic prompt/token generation</li>
<li>
<p>Handles remote dataset retrieval</p>
</li>
<li>
<p><strong>Worker Manager</strong> (<code>worker_manager</code>)</p>
</li>
<li>Coordinates request distribution to workers</li>
<li>Manages timing credits from the timing manager</li>
<li>
<p>Handles worker process lifecycle</p>
</li>
<li>
<p><strong>Worker</strong> (<code>worker</code>)</p>
</li>
<li>Executes actual inference requests</li>
<li>Formats data for specific API interfaces</li>
<li>
<p>Manages multi-turn conversations</p>
</li>
<li>
<p><strong>Timing Manager</strong> (<code>timing_manager</code>)</p>
</li>
<li>Generates request schedules</li>
<li>Issues timing credits for request throttling</li>
<li>
<p>Controls system load patterns</p>
</li>
<li>
<p><strong>Records Manager</strong> (<code>records_manager</code>)</p>
</li>
<li>Stores and manages test results</li>
<li>
<p>Provides result persistence and retrieval</p>
</li>
<li>
<p><strong>Post-Processor Manager</strong> (<code>post_processor_manager</code>)</p>
</li>
<li>Processes collected results</li>
<li>Generates metrics and performance reports</li>
<li>Provides analysis and conclusions</li>
</ol>
<h3 id="service-bootstrapping-flow">Service Bootstrapping Flow<a class="headerlink" href="#service-bootstrapping-flow" title="Permanent link">&para;</a></h3>
<p>The following diagram shows how services are bootstrapped in the AIPerf system:</p>
<div class="codehilite"><pre><span></span><code><span class="c">%%{init: {&#39;theme&#39;:&#39;dark&#39;}}%%</span>
<span class="n">flowchart</span><span class="w"> </span><span class="s">LR</span>
<span class="w">    </span><span class="n">CLI</span><span class="p">[</span><span class="s">&quot;`**CLI**</span>
<span class="s">    aiperf`&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="n">CLIConfig</span><span class="p">[</span><span class="s">&quot;`**CLI Options**</span>
<span class="s">    --run-type</span>
<span class="s">    --log-level</span>
<span class="s">    --config`&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="n">ConfigFile</span><span class="p">[</span><span class="s">&quot;`**Config File**</span>
<span class="s">    YAML Config`&quot;</span><span class="p">]</span>

<span class="w">    </span><span class="n">SC</span><span class="p">[</span><span class="s">&quot;`**System Controller**</span>
<span class="s">    Orchestrates System`&quot;</span><span class="p">]</span>

<span class="w">    </span><span class="n">DS</span><span class="p">[</span><span class="s">&quot;`**Dataset Manager**</span>
<span class="s">    Data Generation`&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="n">TM</span><span class="p">[</span><span class="s">&quot;`**Timing Manager**</span>
<span class="s">    Request Scheduling`&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="n">WM</span><span class="p">[</span><span class="s">&quot;`**Worker Manager**</span>
<span class="s">    Worker Queue`&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="n">RM</span><span class="p">[</span><span class="s">&quot;`**Records Manager**</span>
<span class="s">    Result Storage`&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="n">PM</span><span class="p">[</span><span class="s">&quot;`**Post-Processor Manager**</span>
<span class="s">    Metrics &amp; Analysis`&quot;</span><span class="p">]</span>

<span class="w">    </span><span class="n">W1</span><span class="p">[</span><span class="s">&quot;`**Worker 1**`&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="n">W2</span><span class="p">[</span><span class="s">&quot;`**Worker 2**`&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="n">WN</span><span class="p">[</span><span class="s">&quot;`**Worker N**`&quot;</span><span class="p">]</span>

<span class="w">    </span><span class="n">CLI</span><span class="w"> </span><span class="o">--&gt;|</span><span class="n">Bootstraps</span><span class="o">|</span><span class="w"> </span><span class="n">SC</span>
<span class="w">    </span><span class="n">CLIConfig</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="n">CLI</span>
<span class="w">    </span><span class="n">ConfigFile</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="n">CLI</span>

<span class="w">    </span><span class="n">SC</span><span class="w"> </span><span class="o">--&gt;|</span><span class="n">Configure</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">Start</span><span class="o">|</span><span class="w"> </span><span class="n">DS</span>
<span class="w">    </span><span class="n">SC</span><span class="w"> </span><span class="o">--&gt;|</span><span class="n">Configure</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">Start</span><span class="o">|</span><span class="w"> </span><span class="n">TM</span>
<span class="w">    </span><span class="n">SC</span><span class="w"> </span><span class="o">--&gt;|</span><span class="n">Configure</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">Start</span><span class="o">|</span><span class="w"> </span><span class="n">WM</span>
<span class="w">    </span><span class="n">SC</span><span class="w"> </span><span class="o">--&gt;|</span><span class="n">Configure</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">Start</span><span class="o">|</span><span class="w"> </span><span class="n">RM</span>
<span class="w">    </span><span class="n">SC</span><span class="w"> </span><span class="o">--&gt;|</span><span class="n">Configure</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">Start</span><span class="o">|</span><span class="w"> </span><span class="n">PM</span>

<span class="w">    </span><span class="n">WM</span><span class="w"> </span><span class="o">--&gt;|</span><span class="n">Spawn</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">Configure</span><span class="o">|</span><span class="w"> </span><span class="n">W1</span>
<span class="w">    </span><span class="n">WM</span><span class="w"> </span><span class="o">--&gt;|</span><span class="n">Spawn</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">Configure</span><span class="o">|</span><span class="w"> </span><span class="n">W2</span>
<span class="w">    </span><span class="n">WM</span><span class="w"> </span><span class="o">--&gt;|</span><span class="n">Spawn</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">Configure</span><span class="o">|</span><span class="w"> </span><span class="n">WN</span>

<span class="w">    </span><span class="n">style</span><span class="w"> </span><span class="n">CLI</span><span class="w"> </span><span class="nb">fill</span><span class="p">:</span>#1<span class="n">e3a8a</span><span class="p">,</span><span class="n">stroke</span><span class="p">:</span>#3<span class="n">b82f6</span><span class="p">,</span><span class="n">stroke</span><span class="o">-</span><span class="nb">width</span><span class="p">:</span>2<span class="n">px</span><span class="p">,</span><span class="n">color</span><span class="p">:</span>#<span class="n">ffffff</span>
<span class="w">    </span><span class="n">style</span><span class="w"> </span><span class="n">ConfigFile</span><span class="w"> </span><span class="nb">fill</span><span class="p">:</span>#7<span class="n">c2d12</span><span class="p">,</span><span class="n">stroke</span><span class="p">:</span>#<span class="n">f97316</span><span class="p">,</span><span class="n">stroke</span><span class="o">-</span><span class="nb">width</span><span class="p">:</span>2<span class="n">px</span><span class="p">,</span><span class="n">color</span><span class="p">:</span>#<span class="n">ffffff</span>
<span class="w">    </span><span class="n">style</span><span class="w"> </span><span class="n">CLIConfig</span><span class="w"> </span><span class="nb">fill</span><span class="p">:</span>#7<span class="n">c2d12</span><span class="p">,</span><span class="n">stroke</span><span class="p">:</span>#<span class="n">f97316</span><span class="p">,</span><span class="n">stroke</span><span class="o">-</span><span class="nb">width</span><span class="p">:</span>2<span class="n">px</span><span class="p">,</span><span class="n">color</span><span class="p">:</span>#<span class="n">ffffff</span>
<span class="w">    </span><span class="n">style</span><span class="w"> </span><span class="n">SC</span><span class="w"> </span><span class="nb">fill</span><span class="p">:</span>#<span class="mi">166534</span><span class="p">,</span><span class="n">stroke</span><span class="p">:</span>#22<span class="n">c55e</span><span class="p">,</span><span class="n">stroke</span><span class="o">-</span><span class="nb">width</span><span class="p">:</span>3<span class="n">px</span><span class="p">,</span><span class="n">color</span><span class="p">:</span>#<span class="n">ffffff</span>
<span class="w">    </span><span class="n">style</span><span class="w"> </span><span class="n">DS</span><span class="w"> </span><span class="nb">fill</span><span class="p">:</span>#4338<span class="n">ca</span><span class="p">,</span><span class="n">stroke</span><span class="p">:</span>#8<span class="n">b5cf6</span><span class="p">,</span><span class="n">stroke</span><span class="o">-</span><span class="nb">width</span><span class="p">:</span>2<span class="n">px</span><span class="p">,</span><span class="n">color</span><span class="p">:</span>#<span class="n">ffffff</span>
<span class="w">    </span><span class="n">style</span><span class="w"> </span><span class="n">TM</span><span class="w"> </span><span class="nb">fill</span><span class="p">:</span>#4338<span class="n">ca</span><span class="p">,</span><span class="n">stroke</span><span class="p">:</span>#8<span class="n">b5cf6</span><span class="p">,</span><span class="n">stroke</span><span class="o">-</span><span class="nb">width</span><span class="p">:</span>2<span class="n">px</span><span class="p">,</span><span class="n">color</span><span class="p">:</span>#<span class="n">ffffff</span>
<span class="w">    </span><span class="n">style</span><span class="w"> </span><span class="n">WM</span><span class="w"> </span><span class="nb">fill</span><span class="p">:</span>#<span class="n">dc2626</span><span class="p">,</span><span class="n">stroke</span><span class="p">:</span>#<span class="n">f87171</span><span class="p">,</span><span class="n">stroke</span><span class="o">-</span><span class="nb">width</span><span class="p">:</span>2<span class="n">px</span><span class="p">,</span><span class="n">color</span><span class="p">:</span>#<span class="n">ffffff</span>
<span class="w">    </span><span class="n">style</span><span class="w"> </span><span class="n">RM</span><span class="w"> </span><span class="nb">fill</span><span class="p">:</span>#4338<span class="n">ca</span><span class="p">,</span><span class="n">stroke</span><span class="p">:</span>#8<span class="n">b5cf6</span><span class="p">,</span><span class="n">stroke</span><span class="o">-</span><span class="nb">width</span><span class="p">:</span>2<span class="n">px</span><span class="p">,</span><span class="n">color</span><span class="p">:</span>#<span class="n">ffffff</span>
<span class="w">    </span><span class="n">style</span><span class="w"> </span><span class="n">PM</span><span class="w"> </span><span class="nb">fill</span><span class="p">:</span>#4338<span class="n">ca</span><span class="p">,</span><span class="n">stroke</span><span class="p">:</span>#8<span class="n">b5cf6</span><span class="p">,</span><span class="n">stroke</span><span class="o">-</span><span class="nb">width</span><span class="p">:</span>2<span class="n">px</span><span class="p">,</span><span class="n">color</span><span class="p">:</span>#<span class="n">ffffff</span>
<span class="w">    </span><span class="n">style</span><span class="w"> </span><span class="n">W1</span><span class="w"> </span><span class="nb">fill</span><span class="p">:</span>#<span class="n">be185d</span><span class="p">,</span><span class="n">stroke</span><span class="p">:</span>#<span class="n">f472b6</span><span class="p">,</span><span class="n">stroke</span><span class="o">-</span><span class="nb">width</span><span class="p">:</span>2<span class="n">px</span><span class="p">,</span><span class="n">color</span><span class="p">:</span>#<span class="n">ffffff</span>
<span class="w">    </span><span class="n">style</span><span class="w"> </span><span class="n">W2</span><span class="w"> </span><span class="nb">fill</span><span class="p">:</span>#<span class="n">be185d</span><span class="p">,</span><span class="n">stroke</span><span class="p">:</span>#<span class="n">f472b6</span><span class="p">,</span><span class="n">stroke</span><span class="o">-</span><span class="nb">width</span><span class="p">:</span>2<span class="n">px</span><span class="p">,</span><span class="n">color</span><span class="p">:</span>#<span class="n">ffffff</span>
<span class="w">    </span><span class="n">style</span><span class="w"> </span><span class="n">WN</span><span class="w"> </span><span class="nb">fill</span><span class="p">:</span>#<span class="n">be185d</span><span class="p">,</span><span class="n">stroke</span><span class="p">:</span>#<span class="n">f472b6</span><span class="p">,</span><span class="n">stroke</span><span class="o">-</span><span class="nb">width</span><span class="p">:</span>2<span class="n">px</span><span class="p">,</span><span class="n">color</span><span class="p">:</span>#<span class="n">ffffff</span>
</code></pre></div>

<h3 id="communication-system">Communication System<a class="headerlink" href="#communication-system" title="Permanent link">&para;</a></h3>
<p>Services communicate using a strongly-typed message system:</p>
<ul>
<li><strong>Topics</strong>: Categorized message channels (commands, status, data, heartbeat, etc.)</li>
<li><strong>Messages</strong>: Pydantic models ensuring type safety</li>
<li><strong>Service States</strong>: Well-defined lifecycle states with transitions</li>
</ul>
<p>Key communication patterns:
- <strong>Command/Response</strong>: System controller to services
- <strong>Status Updates</strong>: Services to system controller
- <strong>Heartbeat</strong>: Automatic health monitoring
- <strong>Credit System</strong>: Resource allocation and throttling</p>
<h3 id="service-framework">Service Framework<a class="headerlink" href="#service-framework" title="Permanent link">&para;</a></h3>
<p>All services inherit from <code>BaseService</code> which provides:</p>
<h4 id="automatic-features">Automatic Features<a class="headerlink" href="#automatic-features" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Lifecycle Management</strong>: <code>initialize()</code> → <code>run()</code> → <code>configure()</code> → <code>start()</code> → <code>stop()</code> → <code>cleanup()</code></li>
<li><strong>State Management</strong>: Automatic state transitions with validation</li>
<li><strong>Communication</strong>: Message publishing/subscribing with type safety</li>
<li><strong>Health Monitoring</strong>: Automatic heartbeat generation</li>
<li><strong>Error Handling</strong>: Structured exception handling and recovery</li>
</ul>
<h3 id="implementation-requirements">Implementation Requirements<a class="headerlink" href="#implementation-requirements" title="Permanent link">&para;</a></h3>
<h4 id="implement-base-service-requirements">Implement base service requirements<a class="headerlink" href="#implement-base-service-requirements" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">service_config</span><span class="p">:</span> <span class="n">ServiceConfig</span><span class="p">,</span> <span class="n">service_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">service_config</span><span class="o">=</span><span class="n">service_config</span><span class="p">,</span> <span class="n">service_id</span><span class="o">=</span><span class="n">service_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Initializing records manager&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">service_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceType</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The type of service.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ServiceType</span><span class="o">.</span><span class="n">RECORDS_MANAGER</span>
</code></pre></div>

<h4 id="service-factory-registration">Service Factory Registration<a class="headerlink" href="#service-factory-registration" title="Permanent link">&para;</a></h4>
<p>Register the service with the ServiceFactory:</p>
<div class="codehilite"><pre><span></span><code><span class="nd">@ServiceFactory</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">ServiceType</span><span class="o">.</span><span class="n">RECORDS_MANAGER</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">RecordsManager</span><span class="p">(</span><span class="n">BaseComponentService</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The RecordsManager service is primarily responsible for holding the</span>
<span class="sd">    results returned from the workers.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>

<h4 id="service-lifecycle-hooks">Service Lifecycle Hooks<a class="headerlink" href="#service-lifecycle-hooks" title="Permanent link">&para;</a></h4>
<p>Use decorators to hook into lifecycle events:</p>
<div class="codehilite"><pre><span></span><code>    <span class="nd">@on_init</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize records manager-specific components.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Initializing records manager&quot;</span><span class="p">)</span>
        <span class="c1"># TODO: Implement records manager initialization</span>

    <span class="nd">@on_start</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the records manager.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Starting records manager&quot;</span><span class="p">)</span>
        <span class="c1"># TODO: Implement records manager start</span>

    <span class="nd">@on_stop</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_stop</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop the records manager.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Stopping records manager&quot;</span><span class="p">)</span>
        <span class="c1"># TODO: Implement records manager stop</span>

    <span class="nd">@on_cleanup</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_cleanup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Clean up records manager-specific components.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Cleaning up records manager&quot;</span><span class="p">)</span>
        <span class="c1"># TODO: Implement records manager cleanup</span>

    <span class="nd">@on_configure</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">Message</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Configure the records manager.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Configuring records manager with message: </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="c1"># TODO: Implement records manager configuration</span>
</code></pre></div>

<h3 id="running-services">Running Services<a class="headerlink" href="#running-services" title="Permanent link">&para;</a></h3>
<h4 id="bootstrapping">Bootstrapping<a class="headerlink" href="#bootstrapping" title="Permanent link">&para;</a></h4>
<p>Services are launched using the bootstrap system:</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Main entry point for the records manager.&quot;&quot;&quot;</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">aiperf.common.bootstrap</span><span class="w"> </span><span class="kn">import</span> <span class="n">bootstrap_and_run_service</span>

    <span class="n">bootstrap_and_run_service</span><span class="p">(</span><span class="n">RecordsManager</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</code></pre></div>

<p>The bootstrap system:
- Sets up uvloop for high-performance async I/O
- Loads service configuration
- Manages service lifecycle
- Handles graceful shutdown</p>
<h4 id="configuration-management">Configuration Management<a class="headerlink" href="#configuration-management" title="Permanent link">&para;</a></h4>
<p>Services are configured using Pydantic models:</p>
<p>(TBD) Coming SOON</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">aiperf.common.config</span><span class="w"> </span><span class="kn">import</span> <span class="n">ServiceConfig</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">aiperf.common.enums</span><span class="w"> </span><span class="kn">import</span> <span class="n">ServiceRunType</span>

<span class="n">config</span> <span class="o">=</span> <span class="n">ServiceConfig</span><span class="p">(</span>
    <span class="n">service_run_type</span><span class="o">=</span><span class="n">ServiceRunType</span><span class="o">.</span><span class="n">MULTIPROCESSING</span><span class="p">,</span>
    <span class="c1"># Additional configuration options</span>
<span class="p">)</span>
</code></pre></div>

<h2 id="testing">Testing<a class="headerlink" href="#testing" title="Permanent link">&para;</a></h2>
<h3 id="running-tests">Running Tests<a class="headerlink" href="#running-tests" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Run all tests (provide basic coverage, no logging)</span>
make<span class="w"> </span><span class="nb">test</span>

<span class="c1"># Run with verbose output and debug logging, basic coverage</span>
make<span class="w"> </span>test-verbose

<span class="c1"># Run with HTML coverage report, and no logging</span>
make<span class="w"> </span>coverage

<span class="c1"># Run specific test file</span>
pytest<span class="w"> </span>aiperf/tests/test_specific_file.py<span class="w"> </span>-v
</code></pre></div>

<h3 id="test-structure">Test Structure<a class="headerlink" href="#test-structure" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Unit Tests</strong>: Test individual components in isolation</li>
<li><strong>Integration Tests</strong>: Test service interactions</li>
<li><strong>Base Test Classes</strong>: Shared test utilities and fixtures</li>
</ul>
<h3 id="test-utilities">Test Utilities<a class="headerlink" href="#test-utilities" title="Permanent link">&para;</a></h3>
<p>The test suite provides base classes for testing services:</p>
<ul>
<li><code>BaseTestService</code>: Base class for testing services</li>
<li><code>BaseTestControllerService</code>: For testing controller services</li>
<li><code>BaseTestComponentService</code>: For testing component-specific functionality</li>
</ul>
<h2 id="code-quality">Code Quality<a class="headerlink" href="#code-quality" title="Permanent link">&para;</a></h2>
<h3 id="linting-and-formatting">Linting and Formatting<a class="headerlink" href="#linting-and-formatting" title="Permanent link">&para;</a></h3>
<p>The project uses <code>ruff</code> for both linting and formatting:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Check code style</span>
ruff<span class="w"> </span>check<span class="w"> </span>.

<span class="c1"># Auto-fix issues</span>
ruff<span class="w"> </span>check<span class="w"> </span>.<span class="w"> </span>--fix

<span class="c1"># Format code</span>
ruff<span class="w"> </span>format<span class="w"> </span>.

<span class="c1"># Check formatting</span>
ruff<span class="w"> </span>format<span class="w"> </span>.<span class="w"> </span>--check
</code></pre></div>

<h3 id="pre-commit-hooks">Pre-commit Hooks<a class="headerlink" href="#pre-commit-hooks" title="Permanent link">&para;</a></h3>
<p>Pre-commit hooks are automatically installed and run:
- Code formatting with ruff
- Import sorting
- Basic syntax checking
- Test execution on changed files</p>
<h3 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h3>
<p>Quality tools are configured in <code>pyproject.toml</code>:
- <strong>Ruff</strong>: Line length 88, comprehensive rule set
- <strong>Pytest</strong>: Async mode, coverage reporting
- <strong>Coverage</strong>: HTML reports, skip covered lines</p>
<h2 id="development-best-practices">Development Best Practices<a class="headerlink" href="#development-best-practices" title="Permanent link">&para;</a></h2>
<h3 id="code-style">Code Style<a class="headerlink" href="#code-style" title="Permanent link">&para;</a></h3>
<ul>
<li>Follow PEP 8 guidelines</li>
<li>Use Pydantic models for data structures</li>
<li>Prefer enums for string choices (using our custom <code>CaseInsensitiveStrEnum</code>)</li>
<li>Implement DRY principles</li>
<li>Use type hints throughout</li>
</ul>
<h3 id="testing_1">Testing<a class="headerlink" href="#testing_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Write tests for all new functionality</li>
<li>Use pytest fixtures for shared setup</li>
<li>Parameterize tests when appropriate</li>
<li>Aim for high test coverage</li>
<li>Test both success and failure cases</li>
</ul>
<h3 id="service-development">Service Development<a class="headerlink" href="#service-development" title="Permanent link">&para;</a></h3>
<ul>
<li>Always inherit from appropriate base service class</li>
<li>Use lifecycle hooks for setup/teardown</li>
<li>Implement proper error handling</li>
<li>Follow message-passing patterns</li>
<li>Document service responsibilities clearly</li>
</ul>
<h3 id="configuration_1">Configuration<a class="headerlink" href="#configuration_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Use Pydantic models for configuration</li>
<li>Validate configuration at startup</li>
<li>Provide sensible defaults</li>
<li>Support environment variable overrides</li>
</ul>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<h3 id="common-issues">Common Issues<a class="headerlink" href="#common-issues" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Services not starting</strong>: Check logs for initialization errors</li>
<li><strong>Communication failures</strong>: Verify ZeroMQ ports are available</li>
<li><strong>Test failures</strong>: Ensure virtual environment is activated</li>
<li><strong>Import errors</strong>: Run <code>pip install -e ".[dev]"</code> to update dependencies</li>
</ol>
<h3 id="debugging">Debugging<a class="headerlink" href="#debugging" title="Permanent link">&para;</a></h3>
<ul>
<li>Use <code>--log-level DEBUG</code> for detailed logging</li>
<li>Check service states in system controller logs</li>
<li>Monitor heartbeat messages for service health</li>
<li>Use <code>make test-verbose</code> for detailed test output</li>
</ul>
<h3 id="performance">Performance<a class="headerlink" href="#performance" title="Permanent link">&para;</a></h3>
<ul>
<li>Services use uvloop for high-performance async I/O</li>
<li>ZeroMQ provides efficient inter-service communication</li>
<li>Multiprocessing mode distributes load across CPU cores</li>
<li>Kubernetes mode enables horizontal scaling</li>
</ul>
<h2 id="contributing">Contributing<a class="headerlink" href="#contributing" title="Permanent link">&para;</a></h2>
<ol>
<li>Follow the development setup instructions</li>
<li>Create feature branches from main</li>
<li>Write tests for new functionality</li>
<li>Ensure all quality checks pass</li>
<li>Submit pull requests with clear descriptions following proper naming</li>
</ol>
<p>For questions or issues, refer to the project documentation or open an issue in the repository.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>